<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Documentos</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">

  <app-info-bar [client]="client" [id]="id"></app-info-bar>

  <div class="container-bordered ion-padding scrolling-content">
    <p>Historial</p>
    <ion-list *ngFor="let document of documents" lines="none">
      <ion-item-sliding>
        <ion-item-options side="start">
          <ion-item-option (click)="share(document)">Share</ion-item-option>
        </ion-item-options>

        <ion-item>
          <a [routerLink]="[ 'document', document.file ]">
            <img src="assets/icon/pdf.svg" style="height: 1.5rem;" class="ion-margin-end">
          </a>
          <ion-label>{{document.name}}</ion-label>
        </ion-item>

      </ion-item-sliding>
    </ion-list>
    <!-- Infinte Scroll -->
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Cargando mÃ¡s documentos...">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <!-- Infinte Scroll -->
  </div>
  <div class="container-bordered ion-padding">
    <p class="text-center">Seleccione un archivo o tome una foto</p>
    <div class="container-bordered ion-padding">

      <input [(ngModel)]="file" (change)="uploadFile($event)" type="file" id="file" class="upload">
      <label for="file">
        <img src="assets/icon/attach-icon.svg" style="height: 1.5rem;" class="ion-margin-start">
      </label>
      <label class="file-selector text-right" for="file">
        SUBIR ARCHIVO
      </label>
    </div>
    <div *ngIf="isFile" class="alert alert-primary alert-dismissible fade show" role="alert">
      <img src="assets/icon/pdf.svg" style="height: 1.5rem;" class="ion-margin-end">
      <ion-label>{{document.name}}</ion-label>
    </div>
  </div>

  <div class="ion-text-center ion-margin-top">
    <ion-button [routerLink]="[ '/campaigns/campaign',campaignId ]" fill="outline" shape="round" class="ion-margin-end">
      <ion-label class="ion-margin-horizontal">Salir</ion-label>
    </ion-button>
    <ion-button (click)="create()" color="warning" fill="solid" shape="round" class="ion-margin-start">
      <ion-label class="ion-margin-horizontal">Guardar</ion-label>
    </ion-button>
  </div>

</ion-content>