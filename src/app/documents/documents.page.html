<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Documentos</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">
  <h2 class="title ion-text-center">Melissa Olaya Domingues</h2>

  <div class="document-banner">
    <div>
      <ion-icon [routerLink]="[ '/documents',id ]" class="icons" src="assets/icon/documents.svg"></ion-icon>
      <ion-label>Documentos</ion-label>
    </div>
    <div>
      <ion-icon [routerLink]="[ '/notes',id ]" class="icons" src="assets/icon/notes.svg"></ion-icon>
      <ion-label>Notas</ion-label>
    </div>
    <div>
      <ion-icon [routerLink]="[ '/schedule',id ]" class="icons" src="assets/icon/schedule.svg"></ion-icon>
      <ion-label>Agenda</ion-label>
    </div>
    <div>
      <ion-icon class="icons" src="assets/icon/cotizations.svg"></ion-icon>
      <ion-label>Cotizaciones</ion-label>
    </div>
  </div>

  <div class="container-bordered ion-padding scrolling-content">
    <p>Historial</p>
    <div *ngFor="let document of documents" class="alert alert-primary alert-dismissible fade show" role="alert">
      <a [routerLink]="[ 'document', document.file ]">  <img src="assets/icon/pdf.svg" style="height: 1.5rem;" class="ion-margin-end"></a>
      <ion-label>{{document.name}}</ion-label>
      <button type="button" (click)="delete(document)" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      <button type="button" (click)="delete(document)" class="btn-check" data-bs-dismiss="alert" aria-label="Check"></button>
    </div>
    <!-- Infinte Scroll -->
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Cargando mÃ¡s notas...">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>
    <!-- Infinte Scroll -->
  </div>
  <div class="container-bordered ion-padding">
    <p class="text-center">Seleccione un archivo o tome una foto</p>
    <div class="container-bordered ion-padding">

      <input [(ngModel)]="file" (change)="uploadFile($event)" type="file" id="file" class="upload">
      <label for="file">
        <img src="assets/icon/attach-icon.svg" style="height: 1.5rem;" class="ion-margin-start">
      </label>
      <label class="file-selector text-right" for="file">
        SUBIR ARCHIVO
      </label>
    </div>
    <div *ngIf="isFile" class="alert alert-primary alert-dismissible fade show" role="alert">
      <img src="assets/icon/pdf.svg" style="height: 1.5rem;" class="ion-margin-end">
      <ion-label>{{document.name}}</ion-label>
    </div>
  </div>

  <div class="ion-text-center ion-margin-top">
    <ion-button [routerLink]="[ '/campaigns/campaign',id ]" fill="outline" shape="round" class="ion-margin-end">
      <ion-label class="ion-margin-horizontal">Salir</ion-label>
    </ion-button>
    <ion-button (click)="create()" color="warning" fill="solid" shape="round" class="ion-margin-start">
      <ion-label class="ion-margin-horizontal">Guardar</ion-label>
    </ion-button>
  </div>

</ion-content>
