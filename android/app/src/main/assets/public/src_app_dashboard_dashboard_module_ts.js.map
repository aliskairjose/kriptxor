{"version":3,"sources":["./node_modules/@capacitor/push-notifications/dist/esm/definitions.js","./node_modules/@capacitor/push-notifications/dist/esm/index.js","./src/app/dashboard/dashboard-routing.module.ts","./src/app/dashboard/dashboard.module.ts","./src/app/dashboard/dashboard.page.ts","./src/app/shared/services/dashboard.service.ts","./src/app/dashboard/dashboard.page.scss","./src/app/dashboard/dashboard.page.html"],"names":[],"mappings":"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","file":"src_app_dashboard_dashboard_module_ts.js","sourcesContent":["/// <reference types=\"@capacitor/cli\" />\nexport {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst PushNotifications = registerPlugin('PushNotifications', {});\nexport * from './definitions';\nexport { PushNotifications };\n//# sourceMappingURL=index.js.map","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\n\nimport { DashboardPage } from './dashboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { DashboardService } from '../shared/services/dashboard.service';\nimport { Dashboard } from '../shared/interfaces/dashboard';\nimport { CommonService } from '../shared/services/common.service';\nimport {\n  ActionPerformed,\n  PushNotificationSchema,\n  PushNotifications,\n  Token,\n} from '@capacitor/push-notifications';\n\n@Component( {\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: [ './dashboard.page.scss' ],\n} )\nexport class DashboardPage implements OnInit {\n\n  data: Dashboard = {};\n  seeMore = true;\n\n  constructor(\n    private common: CommonService,\n    private dashboard: DashboardService\n  ) { }\n\n  async ngOnInit() {\n    const loading = await this.common.presentLoading();\n    loading.present();\n    this.dashboard.dashboard().subscribe( response => {\n      loading.dismiss();\n      this.data = { ...response.data };\n    }, () => loading.dismiss() );\n\n    this.initPush();\n  }\n\n\n  initPush(){\n    console.log('Init Push');\n\n    // Request permission to use push notifications\n    // iOS will prompt user and return if they granted permission or not\n    // Android will just grant without prompting\n    PushNotifications.requestPermissions().then(result => {\n      if (result.receive === 'granted') {\n        // Register with Apple / Google to receive push via APNS/FCM\n        PushNotifications.register();\n      } else {\n        // Show some error\n      }\n    });\n\n    // On success, we should be able to receive notifications\n    PushNotifications.addListener('registration',\n      (token: Token) => {\n        // TOKEN REQUIRED BACKEND\n        alert('Push registration success, token: ' + token.value);\n      }\n    );\n\n    // Some issue with our setup and push will not work\n    PushNotifications.addListener('registrationError',\n      (error: any) => {\n        alert('Error on registration: ' + JSON.stringify(error));\n      }\n    );\n\n    // Show us the notification payload if the app is open on our device\n    PushNotifications.addListener('pushNotificationReceived',\n      (notification: PushNotificationSchema) => {\n        alert('Push received: ' + JSON.stringify(notification));\n      }\n    );\n\n    // Method called when tapping on a notification\n    PushNotifications.addListener('pushNotificationActionPerformed',\n      (notification: ActionPerformed) => {\n        alert('Push action performed: ' + JSON.stringify(notification));\n      }\n    );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpService } from './http.service';\nimport { Observable } from 'rxjs';\nimport { DataResponse } from '../interfaces/response';\nimport { Dashboard } from '../interfaces/dashboard';\n\n@Injectable( {\n  providedIn: 'root'\n} )\nexport class DashboardService {\n\n  constructor(\n    private http: HttpService\n  ) { }\n\n  dashboard(): Observable<DataResponse<Dashboard>> {\n    return this.http.get( `dashboard-app` );\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXNoYm9hcmQucGFnZS5zY3NzIn0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Inicio</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content class=\\\"ion-padding\\\">\\n\\n  <div class=\\\"card-container\\\">\\n    <div class=\\\"cards container-bordered\\\">\\n      <img src=\\\"assets/icon/assessment.svg\\\">\\n      <ion-label>{{data.allCampaigns}}</ion-label>\\n      <p>Campañas</p>\\n    </div>\\n    <div class=\\\"cards container-bordered\\\">\\n      <img src=\\\"/assets/icon/persons-circle.svg\\\" alt=\\\"\\\">\\n      <ion-label>{{data.clients}}</ion-label>\\n      <p>Clientes</p>\\n    </div>\\n    <div class=\\\"cards container-bordered\\\">\\n      <img src=\\\"assets/icon/monetization.svg\\\" alt=\\\"\\\">\\n      <ion-label>{{data.projections}}</ion-label>\\n      <p>Proyecciones</p>\\n    </div>\\n    <div class=\\\"cards container-bordered\\\">\\n      <img src=\\\"/assets/icon/calendar.svg\\\" alt=\\\"\\\">\\n      <ion-label>{{data.reminders}}</ion-label>\\n      <p>Agenda</p>\\n    </div>\\n\\n  </div>\\n\\n  <div class=\\\"title-bar mt-3\\\">\\n    ULTIMAS NOTIFICACIONES\\n  </div>\\n\\n  <ng-container *ngFor=\\\"let news of data.lastNews\\\" class=\\\"card-content\\\">\\n    <ion-card>\\n      <ion-card-header class=\\\"bg-ligth-gray\\\">\\n        <ion-card-subtitle>\\n          <div class=\\\"d-flex justify-content-between\\\">\\n            <h4>{{news.title}}</h4>\\n            {{news.created_at | date}}\\n          </div>\\n        </ion-card-subtitle>\\n      </ion-card-header>\\n      <ion-card-content>\\n        <div class=\\\"d-flex flex-column\\\">\\n          {{seeMore ? news.content.substring(0,100) + '...' : news.content}}...\\n          <div>\\n            <ion-button (click)=\\\"seeMore = !seeMore\\\" color=\\\"warning\\\" size=\\\"small\\\">\\n              <ion-icon slot=\\\"start\\\" name=\\\"eye-outline\\\"></ion-icon>\\n              {{ seeMore ? 'Leer más' : 'Leer menos'}}\\n            </ion-button>\\n          </div>\\n        </div>\\n      </ion-card-content>\\n    </ion-card>\\n  </ng-container>\\n\\n  <div class=\\\"title-bar\\\">\\n    TOP SEMANAL DE VENDEDORES\\n  </div>\\n\\n  <div class=\\\"d-flex \\\">\\n    <ng-container *ngFor=\\\"let seller of data.topSellers\\\">\\n      <div class=\\\"seller-card text-center\\\">\\n        <img [src]=\\\"seller.main_image\\\" />\\n        <small>{{seller.nombre}} {{seller.apellido}}</small>\\n      </div>\\n    </ng-container>\\n\\n  </div>\\n\\n</ion-content>\";"],"sourceRoot":"webpack:///"}